
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  
  <title>常用的shell命令 | HankLiu的博客小屋</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一、SSH到服务器上再执行shell命令12345ssh -t root@192.168.111.111 \  &quot;sudo cp -rf $&#123;REMOTE_DESTS[$key]#*:&#125;&#x2F;$&#123;NGINX_CONF_FILENAME&#125; &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F; &amp;&amp;  sudo rm -rf $&amp;#123">
<meta property="og:type" content="article">
<meta property="og:title" content="常用的shell命令">
<meta property="og:url" content="https://hankliu62.github.io/2017/09/14/commonly-shell-command/index.html">
<meta property="og:site_name" content="HankLiu的博客小屋">
<meta property="og:description" content="一、SSH到服务器上再执行shell命令12345ssh -t root@192.168.111.111 \  &quot;sudo cp -rf $&#123;REMOTE_DESTS[$key]#*:&#125;&#x2F;$&#123;NGINX_CONF_FILENAME&#125; &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F; &amp;&amp;  sudo rm -rf $&amp;#123">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2017-09-14T13:10:16.000Z">
<meta property="article:modified_time" content="2024-04-27T01:09:19.618Z">
<meta property="article:author" content="HankLiu">
<meta property="article:tag" content="shell">
<meta property="article:tag" content="blog">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/img/favicon.ico" sizes="16x16">
  
  <link rel="stylesheet" href="/css/style.css?t=1">
  
    <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
  

<meta name="generator" content="Hexo 7.1.1"></head>

<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner">
    <div id="banner-mask"></div>
  </div>
  <div id="header-outer" class="outer">
    <nav id="upper-nav" class="inner">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <div class="sub-nav">
        
        
          <a id="nav-github" class="nav-icon" href="https://github.com/hankliu62"></a>
        
      </div>
    </nav>
    <div id="header-title">
      
        <h1 id="blog-title-wrap">
          <a href="/" id="blog-title">HankLiu的博客小屋</a>
        </h1>
      
      
        <h5 class="blog-subtitle-wrap">努力去听风的声音，不必在意风的方向。</h5>
      
    </div>
    <div id="contenedor">
      <ul class="cube">
        <li class="cara"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="100" width="100" viewBox="-50 -50 200 200">
          <circle cx="50" cy="50" r="45" stroke-width="5" stroke="black" stroke-opacity="0.5" fill-opacity="0"></circle>
          <rect id="clockwise" x="47.5" y="27.5" width="5" height="25" rx="2.5" ry="2.5" fill="black" fill-opacity="0.5" transform="rotate(330 50 50)"></rect>
          <rect id="minute" x="48.5" y="16.5" width="3" height="35" rx="1.5" ry="1.5" fill="black" fill-opacity="0.5"></rect>
        </svg></li>
        <li class="cara">P</li>
        <li class="cara">X</li>
        <li class="cara">L</li>
        <li class="cara">C</li>
        <li class="cara">Y</li>
      </ul>
    </div>
    <nav id="main-nav">
      
        <a class="main-nav-link" href="/">主页</a>
      
        <a class="main-nav-link" href="/archives">文章</a>
      
        <a class="main-nav-link" href="/toolkit">小工具</a>
      
        <a class="main-nav-link" href="/resume">小简介</a>
      
        <a class="main-nav-link" href="/about">小关于</a>
      
    </nav>
  </div>
</header>

    <div class="outer">
      <section id="main"><article id="post-commonly-shell-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <h3 href="/2017/09/14/commonly-shell-command/" class="article-date">
  <time datetime="2017-09-14T13:10:16.000Z" itemprop="datePublished">2017-09-14</time>
</h3>
    
  </div>
  <div class="article-inner">
  <div class="curve-down">
  <div class="fill-content fill-content-false">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      常用的shell命令
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <h2 id="一、SSH到服务器上再执行shell命令"><a href="#一、SSH到服务器上再执行shell命令" class="headerlink" title="一、SSH到服务器上再执行shell命令"></a>一、SSH到服务器上再执行shell命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssh -t root@192.168.111.111 \</span><br><span class="line">  &quot;sudo cp -rf $&#123;REMOTE_DESTS[$key]#*:&#125;/$&#123;NGINX_CONF_FILENAME&#125; /etc/nginx/sites-available/ &amp;&amp;</span><br><span class="line">  sudo rm -rf $&#123;REMOTE_DESTS[$key]#*:&#125;/$&#123;NGINX_CONF_FILENAME&#125; &amp;&amp;</span><br><span class="line">  sudo ln -sf /etc/nginx/sites-available/$&#123;NGINX_CONF_FILENAME&#125; /etc/nginx/sites-enabled/$&#123;NGINX_CONF_FILENAME&#125; &amp;&amp;</span><br><span class="line">  sudo service nginx reload&quot;</span><br></pre></td></tr></table></figure>

<h2 id="二、查看或修改监控文件系统-Inotify-的watch数目"><a href="#二、查看或修改监控文件系统-Inotify-的watch数目" class="headerlink" title="二、查看或修改监控文件系统(Inotify)的watch数目"></a>二、查看或修改监控文件系统(Inotify)的watch数目</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置</span></span><br><span class="line">sudo sysctl fs.inotify.max_user_watches=524288</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">sysctl -a | grep inotify</span><br></pre></td></tr></table></figure>

<h2 id="三、查看Ubuntu操作系统位数及版本"><a href="#三、查看Ubuntu操作系统位数及版本" class="headerlink" title="三、查看Ubuntu操作系统位数及版本"></a>三、查看Ubuntu操作系统位数及版本</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Ubuntu操作系统位数</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">方法一: getconf</span></span><br><span class="line">getconf LONG_BIT</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">64 or 32</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">方法二: <span class="built_in">uname</span> -a</span></span><br><span class="line">uname -a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Linux user-3020 3.13.0-48-generic <span class="comment">#80-Ubuntu SMP Thu Mar 12 11:16:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">i686表示32位, x86_64表示64位</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Ubuntu操作系统版本</span></span><br><span class="line">lsb_release -a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Distributor ID:	Ubuntu</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Description:	Ubuntu 14.04.2 LTS</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Release:	14.04</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Codename:	trusty</span></span><br></pre></td></tr></table></figure>

<h2 id="四、动态查看一个文件"><a href="#四、动态查看一个文件" class="headerlink" title="四、动态查看一个文件"></a>四、动态查看一个文件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f filename</span><br></pre></td></tr></table></figure>

<h2 id="五、sudo操作手动输入密码"><a href="#五、sudo操作手动输入密码" class="headerlink" title="五、sudo操作手动输入密码"></a>五、sudo操作手动输入密码</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;abc123_&quot; | sudo -S sh -c &quot;cp /home/user/hosts /etc/hosts&quot;</span><br></pre></td></tr></table></figure>

<h2 id="六、替换变量中字符"><a href="#六、替换变量中字符" class="headerlink" title="六、替换变量中字符"></a>六、替换变量中字符</h2><h3 id="第一种方式"><a href="#第一种方式" class="headerlink" title="第一种方式"></a>第一种方式</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COMMIT_MSG=$(COMMIT_MSG//feat/build) # 将COMMIT_MSG中所有的feat替换成build</span><br></pre></td></tr></table></figure>

<h3 id="第二种方式-sed"><a href="#第二种方式-sed" class="headerlink" title="第二种方式: sed"></a>第二种方式: sed</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COMMIT_MSG=$(echo $COMMIT_MSG | sed &#x27;s/^ //g&#x27;) #去除COMMIT_MSG变量中所有左边的空格</span><br></pre></td></tr></table></figure>

<h3 id="第三种方式：-tr命令"><a href="#第三种方式：-tr命令" class="headerlink" title="第三种方式： tr命令"></a>第三种方式： tr命令</h3><p><em>tr命令</em>可以对来自标准输入的字符进行替换、压缩和删除。它可以将一组字符变成另一组字符，经常用来编写优美的单行命令，作用很强大。</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tr(选项)(参数)</span><br></pre></td></tr></table></figure>

<h4 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h4><ul>
<li>-c或——complerment：取代所有不属于第一字符集的字符；</li>
<li>-d或——delete：删除所有属于第一字符集的字符；</li>
<li>-s或–squeeze-repeats：把连续重复的字符以单独一个字符表示；</li>
<li>-t或–truncate-set1：先删除第一字符集较第二字符集多出的字符。</li>
</ul>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><ul>
<li>字符集1：指定要转换或删除的原字符集。当执行转换操作时，必须使用参数“字符集2”指定转换的目标字符集。但执行删除操作时，不需要参数“字符集2”；</li>
</ul>
<p>*字符集2：指定要转换成的目标字符集。</p>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><p>将输入字符由大写转换为小写：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;HELLO WORLD&quot; | tr &#x27;A-Z&#x27; &#x27;a-z&#x27;</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>

<p>‘A-Z’ 和 ‘a-z’都是集合，集合是可以自己制定的，例如：’ABD-}’、’bB.,’、’a-de-h’、’a-c0-9’都属于集合，集合里可以使用’\n’、’\t’，可以可以使用其他ASCII字符。</p>
<p>更详细的<a href="http://man.linuxde.net/tr">tr实例</a></p>
<h2 id="七、if指令详解-TODO"><a href="#七、if指令详解-TODO" class="headerlink" title="七、if指令详解(TODO)"></a>七、if指令详解(TODO)</h2><h3 id="判断文件夹是否存在"><a href="#判断文件夹是否存在" class="headerlink" title="判断文件夹是否存在"></a>判断文件夹是否存在</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果文件夹不存在，创建文件夹</span></span><br><span class="line">if [ ! -d &quot;/myfolder&quot; ]; then</span><br><span class="line">  mkdir /myfolder</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">shell判断文件,目录是否存在或者具有权限</span></span><br><span class="line"></span><br><span class="line">folder=&quot;/var/www/&quot;</span><br><span class="line">file=&quot;/var/www/log&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-x 参数判断 <span class="variable">$folder</span> 是否存在并且是否具有可执行权限</span></span><br><span class="line">if [ ! -x &quot;$folder&quot;]; then</span><br><span class="line">  mkdir &quot;$folder&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d 参数判断 <span class="variable">$folder</span> 是否存在</span></span><br><span class="line">if [ ! -d &quot;$folder&quot;]; then</span><br><span class="line">  mkdir &quot;$folder&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-f 参数判断 <span class="variable">$file</span> 是否存在</span></span><br><span class="line">if [ ! -f &quot;$file&quot; ]; then</span><br><span class="line">  touch &quot;$file&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-n 判断一个变量是否有值</span></span><br><span class="line">if [ ! -n &quot;$var&quot; ]; then</span><br><span class="line">  echo &quot;$var is empty&quot;</span><br><span class="line">  exit 0</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">判断两个变量是否相等</span></span><br><span class="line">if [ &quot;$var1&quot; = &quot;$var2&quot; ]; then</span><br><span class="line">  echo &#x27;$var1 eq $var2&#x27;</span><br><span class="line">else</span><br><span class="line">  echo &#x27;$var1 not eq $var2&#x27;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h2 id="八、开始行和结束行的内容"><a href="#八、开始行和结束行的内容" class="headerlink" title="八、开始行和结束行的内容"></a>八、开始行和结束行的内容</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">文件最后100行</span></span><br><span class="line">tail -n 100 file</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">文件开头100行</span></span><br><span class="line">head -n 100 file</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">文件指定开始行和结束行的内容(包头不包尾)</span></span><br><span class="line">sed &#x27;1,100p&#x27; file</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">文件有多少行</span></span><br><span class="line">wc -l file</span><br></pre></td></tr></table></figure>

<h2 id="九、用来从文件或者变量中提取字段-awk"><a href="#九、用来从文件或者变量中提取字段-awk" class="headerlink" title="九、用来从文件或者变量中提取字段(awk)"></a>九、用来从文件或者变量中提取字段(awk)</h2><p>awk 用来从文本文件中提取字段。缺省地，字段分割符是空格，可以使用-F指定其他分割符。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;Adam Bor, 34, IndiaKerry Miller, 22, USA&quot; | awk -F, &#x27;&#123;print $1 &quot;,&quot; $3 &#125;&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Adam Bor, IndiaKerry Miller, USA</span></span><br></pre></td></tr></table></figure>
<p>这里我们使用，作为字段分割符，同时打印第一个和第三个字段</p>
<h2 id="十、输出不换行-echo"><a href="#十、输出不换行-echo" class="headerlink" title="十、输出不换行(echo)"></a>十、输出不换行(echo)</h2><p>echo的参数中, -e表示开启转义, &#x2F;c表示不换行,脚本如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">#filename: 1</span><br><span class="line">echo -e &quot;please input a value:\c&quot;</span><br><span class="line">read value</span><br><span class="line"># echo &quot;what you input is:&quot; $valuel</span><br></pre></td></tr></table></figure>

<p>脚本2:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">filename: 1</span></span><br><span class="line">echo -n &quot;please input a value:&quot;</span><br><span class="line">read value</span><br><span class="line">echo &quot;what you input is:&quot; $value</span><br></pre></td></tr></table></figure>

<h2 id="十一、字符串大小写不敏感的比较"><a href="#十一、字符串大小写不敏感的比较" class="headerlink" title="十一、字符串大小写不敏感的比较"></a>十一、字符串大小写不敏感的比较</h2><p>通用的方法是将字符串先转换成小写后再比较</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">xxx=&quot;Temp&quot;</span><br><span class="line">yyy=&quot;temp&quot;</span><br><span class="line"></span><br><span class="line">x_tmp=$(echo $xxx | tr [A-Z] [a-z])</span><br><span class="line">y_tmp=$(echo $yyy | tr [A-Z] [a-z])</span><br><span class="line"></span><br><span class="line">if [ &quot;$x_tmp &quot; = &quot;$y_tmp &quot; ]; then</span><br><span class="line">  echo   &quot;PASS&quot;</span><br><span class="line">else</span><br><span class="line">  echo   &quot;FAIL&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h2 id="十二、-运算符"><a href="#十二、-运算符" class="headerlink" title="十二、**&amp;&amp;** 运算符"></a>十二、**&amp;&amp;** 运算符</h2><p>语法格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 &amp;&amp; command2 [&amp;&amp; command3 ...]</span><br></pre></td></tr></table></figure>

<p>&amp;&amp;左边的命令（命令1）返回真(即返回0，成功被执行）后，&amp;&amp;右边的命令（命令2）才能够被执行；换句话说，“如果这个命令执行成功&amp;&amp;那么执行这个命令”。</p>
<p>1 命令之间使用 &amp;&amp; 连接，实现逻辑与的功能。<br>2 只有在 &amp;&amp; 左边的命令返回真（命令返回值 $? &#x3D;&#x3D; 0），&amp;&amp; 右边的命令才会被执行。<br>3 只要有一个命令返回假（命令返回值 $? &#x3D;&#x3D; 1），后面的命令就不会被执行。</p>
<h2 id="十三、-运算符"><a href="#十三、-运算符" class="headerlink" title="十三、**||** 运算符"></a>十三、**||** 运算符</h2><p>语法格式:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 || command2 [|| command3 ...]</span><br></pre></td></tr></table></figure>

<p>||则与&amp;&amp;相反。如果||左边的命令（命令1）未执行成功，那么就执行||右边的命令（命令2）；或者换句话说，“如果这个命令执行失败了||那么就执行这个命令。</p>
<p>1 命令之间使用 || 连接，实现逻辑或的功能。<br>2 只有在 || 左边的命令返回假（命令返回值 $? &#x3D;&#x3D; 1），|| 右边的命令才会被执行。这和 c 语言中的逻辑或语法功能相同，即实现短路逻辑或操作。<br>3 只要有一个命令返回真（命令返回值 $? &#x3D;&#x3D; 0），后面的命令就不会被执行。</p>
<h2 id="十四、判断变量中是否包含某个字符串"><a href="#十四、判断变量中是否包含某个字符串" class="headerlink" title="十四、判断变量中是否包含某个字符串"></a>十四、判断变量中是否包含某个字符串</h2><p>3 只要有一个命令返回真（命令返回值 $? &#x3D;&#x3D; 0），后面的命令就不会被执行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str=&quot;this is a string&quot;</span><br><span class="line">[[ $str =~ &quot;this&quot; ]] &amp;&amp; echo &quot;$str contains this&quot;</span><br><span class="line">[[ $str =~ &quot;that&quot; ]] || echo &quot;$str does NOT contain that&quot;</span><br></pre></td></tr></table></figure>

<p>结果为：<br>this is a string contains this<br>this is a string does NOT contains that<br>“[[“ 判断命令和 “&#x3D;~”正则式匹配符号</p>
<h2 id="十五、shell中-和-的区别"><a href="#十五、shell中-和-的区别" class="headerlink" title="十五、shell中 [ ] 和 [[ ]] 的区别"></a>十五、shell中 <strong>[ ]</strong> 和 <strong>[[ ]]</strong> 的区别</h2><p><a href="http://blog.csdn.net/ysdaniel/article/details/7905818">http://blog.csdn.net/ysdaniel/article/details/7905818</a></p>
<h2 id="十六、shell中-‘’-“”-和-的区别"><a href="#十六、shell中-‘’-“”-和-的区别" class="headerlink" title="十六、shell中 ‘’ , “” 和 &#96;&#96; 的区别"></a>十六、shell中 <strong>‘’</strong> , <strong>“”</strong> 和 <strong>&#96;&#96;</strong> 的区别</h2><p><a href="http://www.cnblogs.com/Skyar/p/5914942.html">http://www.cnblogs.com/Skyar/p/5914942.html</a></p>
<h2 id="参考地址："><a href="#参考地址：" class="headerlink" title="参考地址："></a>参考地址：</h2><p><a href="http://www.cnblogs.com/xuejie/archive/2013/01/31/2886552.html">基础语法</a><br><a href="http://man.linuxde.net/echo">echo指令</a></p>

      
    </div>
    <footer class="article-footer">
      <div class="article-footer-content">
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shell/" rel="tag">shell</a></li></ul>

        <a data-url="https://hankliu62.github.io/2017/09/14/commonly-shell-command/" data-id="clvhem3u20004rrq61qt2b806" class="article-share-link">Share</a>
        
      </div>
    </footer>
  </div>
  </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/09/19/web-mobile-tools-weinre/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          使用Weinre调试移动端Web开发
        
      </div>
    </a>
  
  
    <a href="/2017/09/09/hexo-github-blog-guide/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">MAC搭建个人博客hexo+github详细完整步骤</div>
    </a>
  
</nav>

  
</article>


</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/04/20/communication-across-browser-tabs/">跨浏览器标签页进行通讯的方式简介</a>
          </li>
        
          <li>
            <a href="/2024/04/16/webrtc/">WebRTC:实时通信的未来</a>
          </li>
        
          <li>
            <a href="/2024/04/14/fontend-optimize-indicators/">Web前端最新优化指标：从FP到FPS的全面解析</a>
          </li>
        
          <li>
            <a href="/2024/04/12/abort-controller/">使用 AbortController 实现异步操作控制</a>
          </li>
        
          <li>
            <a href="/2024/04/10/optimize-miniprogram/">小程序性能优化实践指南</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/" rel="tag">blog</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/" rel="tag">canvas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csrf/" rel="tag">csrf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debugging/" rel="tag">debugging</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github-pages/" rel="tag">github pages</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/homebrew/" rel="tag">homebrew</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/" rel="tag">html5</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/interview/" rel="tag">interview</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/loader/" rel="tag">loader</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/miniprogram/" rel="tag">miniprogram</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/" rel="tag">mobile</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/" rel="tag">network</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/optimize/" rel="tag">optimize</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reptile/" rel="tag">reptile</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/" rel="tag">security</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/service-worker/" rel="tag">service worker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/translate/" rel="tag">translate</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vitepress/" rel="tag">vitepress</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webrtc/" rel="tag">webrtc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webworker/" rel="tag">webworker</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/weinre/" rel="tag">weinre</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xss/" rel="tag">xss</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yuv/" rel="tag">yuv</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 HankLiu, Inc. All rights reserved.<br>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">文章</a>
  
    <a href="/toolkit" class="mobile-nav-link">小工具</a>
  
    <a href="/resume" class="mobile-nav-link">小简介</a>
  
    <a href="/about" class="mobile-nav-link">小关于</a>
  
  <a href="#search" class="mobile-nav-link st-search-show-outputs">Search</a>
</nav>
  

<!-- totop start -->
<div id="totop">
	<a title="To Top"></a>
</div>
<!-- totop end -->

<!-- swiftype search start -->

<!-- swiftype search end -->



<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/lrsjng.jquery-qrcode/0.12.0/jquery.qrcode.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


</div>
</body>
</html>
